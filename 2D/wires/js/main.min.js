!function(){"use strict";var t={"canvas-dr01":{canvas:null,ctx:null,sprites_types:[{type:"LinesVert",count:5},{type:"LinesHor",count:2}],sprites:[],imgs:{back:{src:"assets/ill_01_back.png",data:null}}},"canvas-dr02":{canvas:null,ctx:null,sprites_types:[{type:"LeftYellowSlow",count:70},{type:"RightWhite",count:10}],sprites:[],imgs:{back:{src:"assets/ill_02_back.png",data:null}}},"canvas-dr03":{canvas:null,ctx:null,sprites_types:[{type:"LeftYellow",count:70},{type:"RightYellow",count:70}],sprites:[],imgs:{back:{src:"assets/ill_03_back.png",data:null}}},"canvas-dr04":{canvas:null,ctx:null,sprites:[],sprites_types:[{type:"LeftYellow",count:50},{type:"LeftMagenta",count:50},{type:"LeftGreen",count:50},{type:"RightYellow",count:50},{type:"RightMagenta",count:50},{type:"RightGreen",count:50}],imgs:{back:{src:"assets/ill_04_back.png",data:null},wire:{src:"assets/ill_04_wire.png",data:null,x:0,y:0,x2:500,y2:400}}},"canvas-dr05":{canvas:null,ctx:null,sprites:[],sprites_types:[{type:"LeftSuperTop",count:70},{type:"LeftSuperBottom",count:50},{type:"RightSuperTop",count:50},{type:"RightSuperBottom",count:50}],imgs:{back:{src:"assets/ill_05_back.png",data:null}}}},n={LeftYellowSlow:{conus:1,spd:.6,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:80,yMax:300},form:"rect",color:"#ff0"},RightWhite:{conus:1,spd:.6,start:{xMin:310,xMax:320,yMin:185,yMax:187},finish:{xMin:500,xMax:510,yMin:110,yMax:230},form:"circle",color:"#fff"},LeftYellow:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:150,yMax:205},form:"rect",color:"#ff0"},LeftMagenta:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:130,yMax:235},form:"rect",color:"#f0f"},LeftGreen:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:300},finish:{xMin:160,xMax:280,yMin:130,yMax:235},form:"rect",color:"#0f0"},RightYellow:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:150,yMax:205},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#ff0"},RightMagenta:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:130,yMax:235},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#f0f"},RightGreen:{conus:1,spd:1,start:{xMin:320,xMax:330,yMin:130,yMax:235},finish:{xMin:500,xMax:510,yMin:80,yMax:300},form:"rect",color:"#0f0"},RightSuperTop:{conus:1,spd:1,start:{xMin:325,xMax:330,yMin:120,yMax:170},finish:{xMin:500,xMax:510,yMin:80,yMax:150},form:"rect",color:"#0ff"},RightSuperBottom:{conus:1,spd:1,start:{xMin:325,xMax:330,yMin:240,yMax:270},finish:{xMin:500,xMax:510,yMin:220,yMax:310},form:"rect",color:"#0ff"},LeftSuperTop:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:80,yMax:150},finish:{xMin:140,xMax:160,yMin:120,yMax:170},form:"rect",color:"#0ff"},LeftSuperBottom:{conus:1,spd:1,start:{xMin:-20,xMax:-10,yMin:220,yMax:310},finish:{xMin:140,xMax:160,yMin:240,yMax:270},form:"rect",color:"#0ff"},LinesVert:{conus:0,spd:.2,start:{xMin:-200,xMax:-30,yMin:0,yMax:0},finish:{xMin:600,xMax:600,yMin:0,yMax:0},color:null,img:"lineVert-img"},LinesHor:{conus:0,spd:.1,start:{xMin:0,xMax:0,yMin:800,yMax:900},finish:{xMin:0,xMax:0,yMin:-40,yMax:-60},color:null,img:"lineHor-img"}},i={"lineHor-img":{src:"assets/sprite_line_hor.png",data:null},"lineVert-img":{src:"assets/sprite_line_vert.png",data:null}},a=[],s=0,e=function(n){r(function(){c(t),f(),n()})},r=function(n){for(var s in t)for(var e in t[s].imgs)a.push(o(t[s].imgs[e]));for(var r in i)a.push(o(i[r]));a.push(n),a[0]()},o=function(t){return function(){t.data=new Image,t.data.src=t.src,t.data.onload=function(){return a[s++]()}}},c=function(t){for(var n in t)t[n].canvas=document.getElementById(n),t[n].ctx=t[n].canvas.getContext("2d"),x(t[n])},x=function(t){t.sprites_types.forEach(function(n){t.sprites.push(M(n.type,n.count))})},M=function(t,n){for(var i=[],a=0;a<n;a++){var s={};l(s,t),i.push(s)}return i},l=function(t,i){var a=n[i],s=30*Math.random()+30;t.type=i,t.x=Math.random()*(a.start.xMax-a.start.xMin)+a.start.xMin,t.y=Math.random()*(a.start.yMax-a.start.yMin)+a.start.yMin,t.spdX=(a.finish.xMin-t.x)/s*a.spd,t.spdY=(a.finish.yMin-t.y+Math.random()*(a.finish.yMax-a.finish.yMin)*a.conus)/s*a.spd},y=void 0,f=function(){y=setInterval(p,30)},p=function(){for(var n in t)u(t[n].canvas)&&d(t[n])},u=function(t){return!0},d=function(t){t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.ctx.globalCompositeOperation="source-over",t.ctx.drawImage(t.imgs.back.data,0,0,t.canvas.width,t.canvas.height),g(t),t.imgs.wire&&t.ctx.drawImage(t.imgs.wire.data,t.imgs.wire.x,t.imgs.wire.y,t.imgs.wire.x2,t.imgs.wire.y2),t.ctx.globalCompositeOperation="destination-in",t.ctx.drawImage(t.imgs.back.data,0,0,t.canvas.width,t.canvas.height)},g=function(t){for(var n=0;n<t.sprites.length;n++)for(var i=0;i<t.sprites[n].length;i++)h(t.ctx,t.sprites[n][i])},h=function(t,a){var s=n[a.type];return a.x>s.finish.xMin&&l(a,a.type),"LinesHor"==a.type&&a.y<s.finish.yMin&&l(a,a.type),a.x+=a.spdX,a.y+=a.spdY,s.img?void t.drawImage(i[s.img].data,a.x,a.y):"rect"==s.form?(t.fillStyle=n[a.type].color,void t.fillRect(a.x,a.y,7,7)):"circle"==s.form?(t.fillStyle=n[a.type].color,t.beginPath(),t.arc(a.x,a.y,4,0,2*Math.PI),void t.fill()):void 0};window.onload=function(){e()}}();
